// Generated by CoffeeScript 2.7.0
var process, table, td, th, tr;

table = function(s) {
  return "<table>\n" + s + "</table>";
};

td = function(s, attrs = "") {
  return `<td ${attrs}>` + s + "</td>";
};

tr = function(s, attrs = "") {
  return `<tr ${attrs}>` + s + "</tr>\n";
};

th = function(s, attrs = "") {
  return `<th ${attrs}>` + s + "</th>";
};

process = function(data_t, data_r, pid) {
  var app, center, col, färg, g, good, grå, i, j, len, len1, n, now, nu, opp, p, pi, players, r, res, s, stable;
  console.log(data_t);
  console.log(data_r);
  players = {};
  for (i = 0, len = data_t.length; i < len; i++) {
    p = data_t[i];
    pi = p.playerInfo;
    players[p.contenderId] = pi.elo.rating + ' ' + pi.lastName.toUpperCase() + ' ' + pi.firstName;
  }
  stable = "";
  stable += th("datum");
  stable += th("rond");
  stable += th("bord");
  stable += th("färg");
  stable += th("mot");
  stable += th("resultat");
  stable = tr(stable);
  good = 0;
  n = 0;
  center = 'style="text-align: center"';
  grå = 'style="color:#444444"';
  now = new Date();
  nu = now.toLocaleDateString("sv-SE");
  for (j = 0, len1 = data_r.length; j < len1; j++) {
    r = data_r[j];
    g = r.games[0];
    if (r.finalized) {
      n += 1;
      if (r.homeResult !== 0 || r.awayResult !== 0) {
        good += 1;
      }
    }
    console.log(r.awayId, r.homeId);
    if (r.awayId === pid || r.homeId === pid) {
      färg = r.homeId === pid ? "vit" : "svart";
      s = "";
      s += td(r.date);
      s += td(r.roundNr, center);
      s += td(r.board, center);
      s += td(färg, center);
      opp = färg === 'vit' ? r.awayId : r.homeId;
      res = färg === 'vit' ? r.homeResult : r.awayResult;
      if (opp < 1000) {
        s += td("w.o.");
      } else {
        s += td(players[opp.toString()]);
      }
      if (g.result === -3) {
        res += " w.o.";
      }
      s += td(res, center);
      col = r.date < nu || r.finalized ? grå : "";
      stable += tr(s, col);
    }
  }
  app = document.getElementById('app');
  console.log(table(stable));
  app.innerHTML = table(stable);
  return console.log(`${good} of ${n} games played (${(100 * good / n).toFixed(1)}%)`);
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uXFwuLlxcLi5cXC4uXFwuLlxcIiwic291cmNlcyI6WyJjb250ZW50XFxrbHViYmVuXFxtZWRsZW1tYXJcXGNocmlzdGVyLW5pbHNzb25cXEFQSVxcc2tldGNoLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBQSxPQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUE7O0FBQUEsS0FBQSxHQUFRLFFBQUEsQ0FBQyxDQUFELENBQUE7U0FBTyxXQUFBLEdBQWMsQ0FBZCxHQUFrQjtBQUF6Qjs7QUFDUixFQUFBLEdBQUssUUFBQSxDQUFDLENBQUQsRUFBRyxRQUFNLEVBQVQsQ0FBQTtTQUFnQixDQUFBLElBQUEsQ0FBQSxDQUFPLEtBQVAsQ0FBQSxDQUFBLENBQUEsR0FBa0IsQ0FBbEIsR0FBc0I7QUFBdEM7O0FBQ0wsRUFBQSxHQUFLLFFBQUEsQ0FBQyxDQUFELEVBQUcsUUFBTSxFQUFULENBQUE7U0FBZ0IsQ0FBQSxJQUFBLENBQUEsQ0FBTyxLQUFQLENBQUEsQ0FBQSxDQUFBLEdBQWtCLENBQWxCLEdBQXNCO0FBQXRDOztBQUNMLEVBQUEsR0FBSyxRQUFBLENBQUMsQ0FBRCxFQUFHLFFBQU0sRUFBVCxDQUFBO1NBQWdCLENBQUEsSUFBQSxDQUFBLENBQU8sS0FBUCxDQUFBLENBQUEsQ0FBQSxHQUFrQixDQUFsQixHQUFzQjtBQUF0Qzs7QUFFTCxPQUFBLEdBQVUsUUFBQSxDQUFDLE1BQUQsRUFBUyxNQUFULEVBQWlCLEdBQWpCLENBQUE7QUFFVixNQUFBLEdBQUEsRUFBQSxNQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxDQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsRUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsQ0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLENBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFB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RUFDTixPQUFPLENBQUMsR0FBUixDQUFZLEtBQUEsQ0FBTSxNQUFOLENBQVo7RUFDQSxHQUFHLENBQUMsU0FBSixHQUFnQixLQUFBLENBQU0sTUFBTjtTQUNoQixPQUFPLENBQUMsR0FBUixDQUFZLENBQUEsQ0FBQSxDQUFHLElBQUgsQ0FBQSxJQUFBLENBQUEsQ0FBYyxDQUFkLENBQUEsZUFBQSxDQUFBLENBQWlDLENBQUMsR0FBQSxHQUFJLElBQUosR0FBUyxDQUFWLENBQVksQ0FBQyxPQUFiLENBQXFCLENBQXJCLENBQWpDLENBQUEsRUFBQSxDQUFaO0FBcERTIiwic291cmNlc0NvbnRlbnQiOlsidGFibGUgPSAocykgLT4gXCI8dGFibGU+XFxuXCIgKyBzICsgXCI8L3RhYmxlPlwiXHJcbnRkID0gKHMsYXR0cnM9XCJcIikgLT4gXCI8dGQgI3thdHRyc30+XCIgKyBzICsgXCI8L3RkPlwiXHJcbnRyID0gKHMsYXR0cnM9XCJcIikgLT4gXCI8dHIgI3thdHRyc30+XCIgKyBzICsgXCI8L3RyPlxcblwiXHJcbnRoID0gKHMsYXR0cnM9XCJcIikgLT4gXCI8dGggI3thdHRyc30+XCIgKyBzICsgXCI8L3RoPlwiXHJcblxyXG5wcm9jZXNzID0gKGRhdGFfdCwgZGF0YV9yLCBwaWQpIC0+XHJcblxyXG5cdGNvbnNvbGUubG9nIGRhdGFfdFxyXG5cdGNvbnNvbGUubG9nIGRhdGFfclxyXG5cclxuXHRwbGF5ZXJzID0ge31cclxuXHRmb3IgcCBpbiBkYXRhX3RcclxuXHRcdHBpID0gcC5wbGF5ZXJJbmZvXHJcblx0XHRwbGF5ZXJzW3AuY29udGVuZGVySWRdID0gcGkuZWxvLnJhdGluZyArICcgJyArIHBpLmxhc3ROYW1lLnRvVXBwZXJDYXNlKCkgKyAnICcgKyBwaS5maXJzdE5hbWVcclxuXHJcblx0c3RhYmxlID0gXCJcIlxyXG5cdHN0YWJsZSArPSB0aCBcImRhdHVtXCJcclxuXHRzdGFibGUgKz0gdGggXCJyb25kXCJcclxuXHRzdGFibGUgKz0gdGggXCJib3JkXCJcclxuXHRzdGFibGUgKz0gdGggXCJmw6RyZ1wiXHJcblx0c3RhYmxlICs9IHRoIFwibW90XCJcclxuXHRzdGFibGUgKz0gdGggXCJyZXN1bHRhdFwiXHJcblx0c3RhYmxlID0gdHIgc3RhYmxlXHJcblx0Z29vZCA9IDBcclxuXHRuID0gMFxyXG5cdGNlbnRlciA9ICdzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlclwiJ1xyXG5cdGdyw6UgICAgPSAnc3R5bGU9XCJjb2xvcjojNDQ0NDQ0XCInXHJcblx0bm93ID0gbmV3IERhdGUoKVxyXG5cdG51ID0gbm93LnRvTG9jYWxlRGF0ZVN0cmluZyBcInN2LVNFXCJcclxuXHJcblx0Zm9yIHIgaW4gZGF0YV9yXHJcblx0XHRnID0gci5nYW1lc1swXVxyXG5cdFx0aWYgci5maW5hbGl6ZWQgXHJcblx0XHRcdG4gKz0gMVxyXG5cdFx0XHRpZiByLmhvbWVSZXN1bHQgIT0gMCBvciByLmF3YXlSZXN1bHQgIT0gMCB0aGVuIGdvb2QgKz0gMVxyXG5cdFx0Y29uc29sZS5sb2cgci5hd2F5SWQsci5ob21lSWRcclxuXHRcdGlmIHIuYXdheUlkID09IHBpZCBvciByLmhvbWVJZCA9PSBwaWRcclxuXHRcdFx0ZsOkcmcgPSBpZiByLmhvbWVJZD09cGlkIHRoZW4gXCJ2aXRcIiBlbHNlIFwic3ZhcnRcIlxyXG5cdFx0XHRzID0gXCJcIlxyXG5cdFx0XHRzICs9IHRkIHIuZGF0ZVxyXG5cdFx0XHRzICs9IHRkIHIucm91bmROcixjZW50ZXJcclxuXHRcdFx0cyArPSB0ZCByLmJvYXJkLGNlbnRlclxyXG5cdFx0XHRzICs9IHRkIGbDpHJnLGNlbnRlclxyXG5cdFx0XHRvcHAgPSBpZiBmw6RyZz09J3ZpdCcgdGhlbiByLmF3YXlJZCBlbHNlIHIuaG9tZUlkXHJcblx0XHRcdHJlcyA9IGlmIGbDpHJnPT0ndml0JyB0aGVuIHIuaG9tZVJlc3VsdCBlbHNlIHIuYXdheVJlc3VsdFxyXG5cdFx0XHRpZiBvcHAgPCAxMDAwXHJcblx0XHRcdFx0cyArPSB0ZCBcIncuby5cIlxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0cyArPSB0ZCBwbGF5ZXJzW29wcC50b1N0cmluZygpXVxyXG5cdFx0XHRpZiBnLnJlc3VsdD09LTMgdGhlbiByZXMgKz0gXCIgdy5vLlwiXHJcblx0XHRcdHMgKz0gdGQgcmVzLGNlbnRlclxyXG5cdFx0XHRjb2wgPSBpZiByLmRhdGUgPCBudSBvciByLmZpbmFsaXplZCB0aGVuIGdyw6UgZWxzZSBcIlwiXHJcblx0XHRcdHN0YWJsZSArPSB0ciBzLGNvbFxyXG5cclxuXHRhcHAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBwJylcclxuXHRjb25zb2xlLmxvZyB0YWJsZSBzdGFibGVcclxuXHRhcHAuaW5uZXJIVE1MID0gdGFibGUgc3RhYmxlXHJcblx0Y29uc29sZS5sb2cgXCIje2dvb2R9IG9mICN7bn0gZ2FtZXMgcGxheWVkICgjeygxMDAqZ29vZC9uKS50b0ZpeGVkIDF9JSlcIixcclxuIl19
//# sourceURL=c:\github\SrS\content\klubben\medlemmar\christer-nilsson\API\sketch.coffee